(this.webpackJsonprecycle_bin_finder=this.webpackJsonprecycle_bin_finder||[]).push([[0],{11:function(t,e,n){},15:function(t,e,n){t.exports=n(39)},20:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),o=n(4),c=n.n(o),r=(n(20),n(11),n(14)),s=n(5),l=n(6),u=n(8),d=n(7),h=n(3),g=n(9);var p=function(t){var e=t.distance.toFixed(2);return i.a.createElement("div",{className:"box"},i.a.createElement("p",null,"The closest recycling is ",e," miles away from you and is at:"),i.a.createElement("p",null,t.park),i.a.createElement("p",null,t.address,", ",t.borough))},m=function(t){function e(){var t;return Object(s.a)(this,e),(t=Object(u.a)(this,Object(d.a)(e).call(this))).state={recycleBins:[],latitude:0,longitude:0,distance:[],index:0},t.getLocation=t.getLocation.bind(Object(h.a)(t)),t.getCoordinates=t.getCoordinates.bind(Object(h.a)(t)),t.componentDidUpdate=t.componentDidUpdate.bind(Object(h.a)(t)),t}return Object(g.a)(e,t),Object(l.a)(e,[{key:"getLocation",value:function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.getCoordinates):alert("Geolocation is not supported by this browser.")}},{key:"getCoordinates",value:function(t){this.setState({latitude:t.coords.latitude,longitude:t.coords.longitude})}},{key:"componentDidMount",value:function(){var t=this;fetch("https://data.cityofnewyork.us/resource/sxx4-xhzg.json").then((function(t){return t.json()})).then((function(e){t.setState({recycleBins:e})}))}},{key:"calculatingDistance",value:function(t,e,n,a){var i=[a-n]*[Math.PI/180],o=[e-t]*[Math.PI/180],c=Math.sin(o/2)*Math.sin(o/2)+Math.cos(t*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 3961*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}},{key:"componentDidUpdate",value:function(t,e){var n=this;if(e.distance.length!==e.recycleBins.length){var a=e.recycleBins.map((function(t){return n.calculatingDistance(n.state.latitude,t.latitude,n.state.longitude,t.longitude)}));this.setState({distance:a})}}},{key:"findShortestDistance",value:function(){var t=this.state.distance.filter((function(t){return!isNaN(t)}));return t.indexOf(Math.min.apply(Math,Object(r.a)(t)))}},{key:"render",value:function(){var t=this.findShortestDistance();return console.log(this.state.longitude,this.state.latitude),i.a.createElement("div",null,i.a.createElement("button",{className:"button",onClick:this.getLocation},i.a.createElement("span",{className:"skew-fix"},"Find.")),t>0?i.a.createElement(p,{distance:this.state.distance[t],park:this.state.recycleBins[t].park_site_name,address:this.state.recycleBins[t].address,borough:this.state.recycleBins[t].borough,latitude:this.state.recycleBins[t].latitude,longitude:this.state.recycleBins[t].longitude}):i.a.createElement("p",null,"Waiting for your location..."))}}]),e}(a.Component);var f=function(){return i.a.createElement("div",{className:"about"},i.a.createElement("h1",null,"Please recycle. Find your nearest public recycling bin by  clicking Find button below. Thank you."))},y=n(13),b={width:"100%",height:"100%"},v=function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(g.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement(y.Map,{google:this.props.google,zoom:14,style:b,initialCenter:{lat:-1.2884,lng:36.8233}})}}]),e}(a.Component);Object(y.GoogleApiWrapper)({apiKey:"YOUR_GOOGLE_API_KEY_GOES_HERE"})(v);var E=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(f,null),i.a.createElement(m,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.3e3a3be2.chunk.js.map